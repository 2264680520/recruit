<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Sign-Up/Login Form</title>
        <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
        <link rel="stylesheet" href="asserts/plugins/css/style.css">
        <script src="asserts/plugins/jquery/jquery-3.4.1.js"></script>
        <script type="text/javascript">
            $(function () {
                $("#userLogin").click(function () {
                    var category = "user";
                    console.log($('#username').val())
                    console.log($('#password').val())
                    if (category != null) {
                        $.ajax({
                            type: "POST",
                            url: "loginController/login",
                            data: {
                                username: $('#username').val().trim(),
                                password: $('#password').val().trim(),
                                category: category,
                            },
                            dataType: "json",
                            success: function (data) {
                                console.log(data)
                                if (data == 1) {
                                    location.href = "user/user.html";
                                } else if (data == 0) {
                                    console.log("登录失败!")
                                    alert("用户名或密码错误!");
                                }
                            }
                        })
                    } else {
                        console.log("登录失败!")
                        alert("登录失败!")
                    }
                })
            })

            $(function () {
                $("#companyLogin").click(function () {
                    var category1 = "company";
                    if (category1 != null) {
                        $.ajax({
                            type: "POST",
                            url: "loginController/login",
                            data: {
                                username: $('#companyname').val().trim(),
                                password: $('#companypassword').val().trim(),
                                category: category1,
                            },
                            dataType: "json",
                            success: function (data) {
                                if (data == 2) {
                                    location.href = "company/company.html";
                                } else if (data == 0) {
                                    alert("用户名或密码错误!");
                                }
                            }
                        })
                    } else {
                        alert("登录失败!")
                    }
                })
            })
        </script>


    </head>

    <body>

        <div class="form">
            <ul class="tab-group">
                <li class="tab active"><a href="#signup">个人登录</a></li>
                <li class="tab"><a href="#login">企业登录</a></li>
            </ul>

            <div class="tab-content">
                <div id="signup">
                    <h1>欢迎回来!</h1>

                    <form id="userForm">

                        <div class="field-wrap">
                            <label>
                                用户名<span class="req">*</span>
                            </label>
                            <input type="text" id="username" name="username" required autocomplete="off"/>
                        </div>

                        <div class="field-wrap">
                            <label>
                                密码<span class="req">*</span>
                            </label>
                            <input type="password" id="password" name="password" required autocomplete="off"/>
                        </div>

                        <p class="forgot"><a href="register.html">注册</a></p>

                        <input type="button" id="userLogin" class="button button-block" value="登录"/>
                    </form>

                </div>

                <!-------------------------------------------------------------------->

                <div id="login">
                    <h1>欢迎回来!</h1>

                    <form id="companyForm">

                        <div class="field-wrap">
                            <label>
                                用户名<span class="req">*</span>
                            </label>
                            <input type="text" id="companyname" name="username" required autocomplete="off"/>
                        </div>

                        <div class="field-wrap">
                            <label>
                                密码<span class="req">*</span>
                            </label>
                            <input type="password" id="companypassword" name="password" required autocomplete="off"/>
                        </div>

                        <p class="forgot"><a href="register.html">注册</a></p>

                        <input type="button" id="companyLogin" class="button button-block" value="登录"/>


                    </form>

                </div>
            </div>
        </div><!-- tab-content -->

        <script src='asserts/plugins/jquery/jquery-3.4.1.js'></script>
        <script src="asserts/plugins/js/index.js"></script>


    </body>

</html>
